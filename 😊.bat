Get-ChildItem -Recurse -File | Where-Object { $_.FullName -notmatch 'node_modules|vendor|\.git|build|dist|coverage|target|\.gradle|out|__pycache__|cmake-build-|bin|pkg|(\\|/)(\.?venv)(\\|/)|(\\|/)(font|fonts|icon|icons|image|images|logs|tmp|temp|storage|cache|public\\uploads)(\\|/)' -and $_.Name -notmatch 'LICENSE|VERSION|package-lock\.json|composer\.lock|yarn\.lock|go\.sum|Thumbs\.db|\.DS_Store|\.config\.(js|ts)$' -and $_.Name -notmatch '\.(png|jpe?g|gif|svg|webp|pkl|pickle|mp4|mp3|wav|exe|dll|zip|tar|gz|lock|pdf|ico|woff2?|eot|ttf|inc|min\.js|min\.css|whl|jar|war|class|obj|o|a|so|lib|pyo|pyc)$' } | ForEach-Object { Add-Content merged.txt "`n$($_.FullName)`n"; (Get-Content $_.FullName | Where-Object { $_.Trim() -ne "" } | ForEach-Object { ($_ -replace '^\s*{\s*$', ' {') -replace '^\s*}\s*$', '} ' }) | Out-File -Append merged.txt -Encoding utf8 }
